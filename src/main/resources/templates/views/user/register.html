<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Page Title</title>
    <!-- Header 프래그먼트 포함 -->
    <th:block th:replace="common/fragments/index :: header-fragment"></th:block>
</head>

    <body class="bg-gradient-primary">

        <div class="container">

            <div class="card o-hidden border-0 shadow-lg my-5">
                <div class="card-body p-0">
                    <!-- Nested Row within Card Body -->
                    <div class="row justify-content-center">
                        <div class="col-lg-7">
                            <div class="p-5">
                                <div class="text-center">
                                    <h1 class="h4 text-gray-900 mb-4">회원가입</h1>
                                </div>
                                <form id="userRegister" class="user" action="/views/user/register" method="post">
                                    <div class="form-group">
                                        <input
                                            type="text"
                                            class="form-control form-control-user"
                                            id="uname"
                                            name="uname"
                                            placeholder="이름">
                                    </div>
                                    <div class="form-group">
                                        <input
                                            type="text"
                                            class="form-control form-control-user"
                                            id="birth" name="birth" placeholder="생년월일 8자리">
                                    </div>
                                    <div class="form-group">
                                        <input
                                            type="text"
                                            class="form-control form-control-user"
                                            id="uid"
                                            name="uid"
                                            placeholder="아이디">
                                    </div>
                                    <div class="form-group">
                                        <input
                                            type="password"
                                            class="form-control form-control-user"
                                            id="upw"
                                            name="upw"
                                            placeholder="비밀번호">
                                    </div>
<!--                                    <div class="form-group">-->
<!--                                        <input-->
<!--                                            type="password"-->
<!--                                            class="form-control form-control-user"-->
<!--                                            id="upwCheck"-->
<!--                                            name="upwCheck"-->
<!--                                            placeholder="비밀번호 확인">-->
<!--                                    </div>-->
                                    <div class="form-group">
                                        <input
                                            type="email"
                                            class="form-control form-control-user"
                                            id="email"
                                            name="email"
                                            placeholder="이메일">
                                    </div>
                                    <div class="form-group">
                                        <input
                                            type="text"
                                            class="form-control form-control-user"
                                            id="tel"
                                            name="tel"
                                            placeholder="전화번호">
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-sm-6 mb-3 mb-sm-0">
                                            <a href="/views/user/login" class="btn btn-primary btn-user btn-block">
                                                취소
                                            </a>
                                        </div>
                                        <div class="col-sm-6">
                                            <a href="/views/user/register" id="register" class="btn btn-primary btn-user btn-block">
                                                회원가입
                                            </a>
                                        </div>
                                    </div>
                                    <!-- <hr> <a href="index.html" class="btn btn-google btn-user btn-block"> <i
                                    class="fab fa-google fa-fw"></i> Register with Google </a> <a href="index.html"
                                    class="btn btn-facebook btn-user btn-block"> <i class="fab fa-facebook-f
                                    fa-fw"></i> Register with Facebook </a> -->
                                </form>
                                <!-- <hr> <div class="text-center"> <a class="small"
                                href="forgot-password.html">Forgot Password?</a> </div> <div
                                class="text-center"> <a class="small" href="login.html">Already have an account?
                                Login!</a> </div> -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <script type="text/javascript" src="http://code.jquery.com/jquery-3.5.1.min.js"></script>

<!--        &lt;!&ndash; 스크롤 탑 버튼 &ndash;&gt;-->
<!--        <th:block th:replace="common/fragments/index :: scroll-to-top-fragment"></th:block>-->
<!--        &lt;!&ndash; 로그아웃 모달 &ndash;&gt;-->
<!--        <th:block th:replace="common/fragments/index :: logout-modal-fragment"></th:block>-->
<!--        &lt;!&ndash; 스크립트 &ndash;&gt;-->
<!--        <th:block th:replace="common/fragments/index :: scripts-fragment"></th:block>-->
<!--        <th:block th:replace="~{common/fragments/index :: scripts-fragment}"></th:block>-->

        <script>
            $(document).ready(function () {
                $("#register").click(function (e) {
                    e.preventDefault();
                    var userDTO = {
                        uname: $("#uname").val(),
                        birth: $("#birth").val(),
                        uid: $("#uid").val(),
                        upw: $("#upw").val(),
                        email: $("#email").val(),
                        tel: $("#tel").val()
                    };
                    if (!uname || !birth || !uid || !upw || !email || !tel) {
                        alert("모든 필드를 입력해주세요.");
                        return;
                    }
                    $.ajax({
                        type: "POST",
                        url: "/views/user/register",
                        // contentType: "application/json",
                        // data: JSON.stringify(userDTO),
                        data: userDTO,
                        success: function (response) {
                            // handle success response
                            window.location.href = "/views/user/login";
                            console.log("성공 : " + response);
                        },
                        error: function (xhr, status, error) {
                            // handle error response
                            console.error(error);
                            console.log(userDTO);
                        }
                    });
                });
            });
        </script>


    </body>

</html>